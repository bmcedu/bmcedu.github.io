<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تسجيل دخول المسؤول - نظام إدارة الأعذار | كليات البترجي الطبية</title>
    <link rel="icon" type="image/png" href="favicon.png">



    <!-- Bootstrap 5 RTL CSS -->
    <link rel="stylesheet" href="lib/bootstrap/css/bootstrap.rtl.min.css">

    <!-- Hugeicons -->
    <link rel="stylesheet" href="https://sets.hugeicons.com/sy6ko98f5o.css" crossorigin="anonymous">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/custom.css">
</head>

<body>
    <div class="container-fluid row p-2 vh-100 overflow-hidden m-0 position-relative">

        <!-- Student Login Switch -->
        <a href="./"
            class="btn btn-secondary position-absolute top-0 start-0 m-4 z-3 d-flex align-items-center gap-2 text-decoration-none shadow-sm"
            style="width: auto;">
            <i class="hgi hgi-stroke hgi-standard hgi-student me-2"></i> <!-- Changed icon to group/student -->
            <span class="fw-medium">دخول الطلاب</span>
        </a>

        <div class="col-lg-6 d-flex flex-column justify-content-center align-items-center">
            <div class="col-md-6">
                <img src="images/logo.svg" alt="BMC Logo" class="mb-4 d-block mx-auto" style="height: 48px;">
                <h5 class="fw-medium mb-3">نظام إدارة أعذار الطلاب / ساحة الإدارة</h5>
                <p class="text-muted">
                    حل شامل ومتكامل لكلية البترجي الطبية لإدارة واستلام ومراجعة أعذار الطلاب بكفاءة ومهنية عالية
                </p>
            </div>
            <div class="col-md-6 mt-5">
                <form id="loginForm" novalidate>
                    <!-- Step 1: Email Input -->
                    <div id="step1" class="step">
                        <div class="mb-3 text-start">
                            <label for="email" class="form-label fw-medium">البريد الإلكتروني</label>
                            <div class="input-group">
                                <span class="input-group-text text-muted"><i
                                        class="hgi hgi-stroke hgi-standard hgi-mail-01"></i></span>
                                <input type="email" class="form-control" id="email"
                                    placeholder="أدخل البريد الإلكتروني الوظيفي"
                                    style="direction: ltr; text-align: right;" required>
                            </div>
                            <div id="emailError" class="text-danger small mt-1 d-none fw-medium"></div>
                        </div>
                        <div class="d-grid gap-2">
                            <button type="button" id="requestOtpBtn"
                                class="btn btn-primary rounded-3 d-flex align-items-center justify-content-center gap-2">
                                إرسال رمز التحقق
                                <i class="hgi hgi-stroke hgi-standard hgi-arrow-left-01"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Step 2: OTP Input -->
                    <div id="step2" class="step d-none">
                        <div class="alert alert-info border-0 d-flex align-items-start gap-2 mb-3">
                            <i class="hgi hgi-stroke hgi-standard hgi-information-circle mt-1"></i>
                            <div>
                                <small>تم إرسال رمز التحقق إلى بريدك الإلكتروني <span id="userEmailDisplay"
                                        class="fw-bold"></span>
                                    <a href="#" id="editEmailBtn" class="text-decoration-none ms-1"
                                        style="font-size: 0.9em;">(تعديل)</a>. الرمز صالح لمدة 5 دقائق.</small>
                            </div>
                        </div>
                        <div class="mb-3 text-start">
                            <label for="otp" class="form-label fw-medium">رمز التحقق</label>
                            <div class="input-group">
                                <span class="input-group-text text-muted"><i
                                        class="hgi hgi-stroke hgi-standard hgi-key-01"></i></span>
                                <input type="text" class="form-control text-center fw-medium" id="otp"
                                    placeholder="أدخل رمز التحقق" maxlength="6"
                                    style="letter-spacing: 8px; padding-left: 42px;" required>
                            </div>
                            <div id="otpError" class="text-danger small mt-1 d-none fw-medium"></div>
                        </div>

                        <div id="loginError" class="text-danger d-none mt-1 small fw-medium text-center mb-3"
                            role="alert"></div>
                        <div class="d-grid gap-2 mb-4">
                            <button type="submit" id="loginBtn"
                                class="btn btn-primary rounded-3 d-flex align-items-center justify-content-center gap-2">
                                <i class="hgi hgi-stroke hgi-standard hgi-login-01"></i>
                                تسجيل الدخول
                            </button>
                        </div>

                        <!-- Resend Code Section -->
                        <div class="text-center">
                            <a href="#" id="resendLink"
                                class="text-decoration-none small text-muted disabled d-inline-flex align-items-center gap-1"
                                style="pointer-events: none;">
                                <i class="hgi hgi-stroke hgi-standard hgi-refresh"></i>
                                إعادة إرسال الرمز <span id="resendTimer" class="d-inline-block"
                                    style="width: 25px;">30</span>
                            </a>
                        </div>
                    </div>
                </form>
            </div>
        </div>

        <div class="col-lg-6 bg-primary pt-5 ps-5 h-100 overflow-hidden pe-0 rounded-4">
            <img src="images/admin-login-image.avif" alt="" class="w-100 custom-shadow rounded-start-4">
        </div>
    </div>

    <!-- Bootstrap 5 JS Bundle -->
    <script src="lib/popper/popper.min.js"></script>
    <script src="lib/bootstrap/js/bootstrap.min.js"></script>
    <script src="js/config.js"></script>
    <script src="js/admin-main.js"></script>
</body>

</html>